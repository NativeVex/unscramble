'use strict';

var _extends = require('babel-runtime/helpers/extends')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _actionsConnections = require('../actions/connections');

var _actionsQueries = require('../actions/queries');

var initialState = {
  isExecuting: false,
  didInvalidate: true,
  query: '',
  result: null,
  error: null
};

exports['default'] = function (state, action) {
  if (state === undefined) state = initialState;

  switch (action.type) {
    case _actionsConnections.DB_CONNECT_SUCCESS:
      {
        return _extends({}, initialState);
      }
    case _actionsQueries.DB_EXECUTE_QUERY_REQUEST:
      {
        return _extends({}, initialState, {
          isExecuting: true,
          didInvalidate: false,
          query: action.query
        });
      }
    case _actionsQueries.DB_EXECUTE_QUERY_SUCCESS:
      {
        return _extends({}, initialState, {
          didInvalidate: false,
          query: action.query,
          result: action.result
        });
      }
    case _actionsQueries.DB_EXECUTE_QUERY_FAILURE:
      {
        return _extends({}, initialState, {
          query: action.query,
          error: action.error
        });
      }
    default:
      return state;
  }
};

module.exports = exports['default'];