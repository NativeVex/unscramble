'use strict';

var _extends = require('babel-runtime/helpers/extends')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _actionsConnections = require('../actions/connections');

var _actionsTables = require('../actions/tables');

var initialState = {
  isFetching: false,
  didInvalidate: false,
  items: [],
  error: null
};

exports['default'] = function (state, action) {
  if (state === undefined) state = initialState;

  switch (action.type) {
    case _actionsConnections.DB_CONNECT_SUCCESS:
      {
        return _extends({}, state, { items: [], didInvalidate: true });
      }
    case _actionsTables.DB_FETCH_TABLES_REQUEST:
      {
        return _extends({}, state, { isFetching: true, didInvalidate: false, error: null });
      }
    case _actionsTables.DB_FETCH_TABLES_SUCCESS:
      {
        return _extends({}, state, { isFetching: false, items: action.tables });
      }
    case _actionsTables.DB_FETCH_TABLES_FAILURE:
      {
        return _extends({}, state, {
          items: [],
          isFetching: false,
          didInvalidate: true,
          error: action.error
        });
      }
    default:
      return state;
  }
};

module.exports = exports['default'];